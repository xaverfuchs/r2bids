#Part 1: package creation and development (steps only run when setting up)
library(devtools)
#Part 5: create Namespace
devtools::document()
install() #install the package
library(r2bids)
library(r2bids)
# Toy dataset
example_data <- data.frame(
ParticipantID = c(1, 2, 3, 1, 2, 3),
Gender=c("M", "F", "O", "M", "F", "O"),
Age=c(21, 32, 27, 21, 32, 27),
Session = c(1, 1, 1, 2, 2, 2),
ResponseTime = c(350, 400, 375, 415, 372, 401),
Accuracy = c(1, 0, 1, 1, 1, 1)
)
# View the data
print(example_data)
# Run validation
example_data_checked <- check_input_data(data = example_data,
participant_col = "ParticipantID",
session_col = "Session",
gender_col = "Gender")
print(example_data_checked)
# Output directory (temporary for this example)
output_dir <- "example_bids"
# Task name for BIDS
task_name <- "reaction"
# Create the BIDS dataset
write_bids(data = example_data_checked, output_dir = output_dir, task_name = task_name, participant_info_cols = c("age", "gender"), file_suffix = "beh")
# Metadata for the example above with nested lists for each variable
meta_data <- list(
participant_id = list(
Description = "Unique participant identifier in the format sub-XXX.",
Levels = list(
"sub-001" = "Participant 1",
"sub-002" = "Participant 2",
"sub-003" = "Participant 3"
)
),
gender = list(
Description = "Self-reported gender of the participant.",
Levels = list(
"m" = "Male",
"f" = "Female",
"o" = "Other"
)
),
age = list(
Description = "Age of the participant in years.",
Units = "years"
),
session = list(
Description = "Session identifier.",
Levels = list(
"ses-01" = "First session",
"ses-02" = "Second session"
)
),
response_time = list(
Description = "Response time of the participant in the task.",
Units = "milliseconds"
),
accuracy = list(
Description = "Task accuracy (1 = correct, 0 = incorrect).",
Levels = list(
"0" = "Incorrect response",
"1" = "Correct response"
)
)
)
# View the metadata
print(meta_data)
write_metadata(output_dir = output_dir, task_name = task_name, meta_data = meta_data)
data_loaded <- read_bids(bids_dir = "example_bids", task_name = task_name, file_suffix = "beh")
#Part 1: package creation and development (steps only run when setting up)
library(devtools)
#Part 5: create Namespace
devtools::document()
#Part 6: install and load
#use_r()
load_all() #load functions of package
#Part 5: create Namespace
devtools::document()
#Part 5: create Namespace
devtools::document()
install() #install the package
#Part 4: Website creation
pkgdown::build_site()
usethis::use_pkgdown_github_pages() #this does not work for me
#Part 4: Website creation
pkgdown::build_site()
devtools::install_github("xaverfuchs/r2bids")
